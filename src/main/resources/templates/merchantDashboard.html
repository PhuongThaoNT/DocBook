<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns="http://www.w3.org/1999/xhtml">
<head th:replace="controlLayout::control-head">

</head>

<body>

	<div class="container">
		<div class="row">

			<div id="wrapper" th:replace="controlLayout::control-menu"></div>
			<div th:object="${mechant}">
				<div class="tabbable-panel" th:object="${orders}">
					<div class="tabbable-line">
						<ul class="nav nav-tabs ">
							<li class="active"><a href="#tab_default_1"
								data-toggle="tab"> Đơn hàng mới </a></li>
							<li><a href="#tab_default_2" data-toggle="tab"> Đơn chưa
									sẵn sàng </a></li>
							<li><a href="#tab_default_3" data-toggle="tab"> Đơn đang
									chuyển </a></li>
						</ul>
						<div class="tab-content">
							<div class="tab-pane active" id="tab_default_1">
								<!--Table-->
								<table class="table table-striped table-advance table-hover">

									<thead>
										<tr>
											<th>STT</th>
											<th class="hidden-phone">Địa chỉ nhận</th>
											<th>Khách hàng</th>
											<th>Tổng hóa đơn</th>

											<th>Hình thức giao hàng</th>
											<th>Ngày đặt</th>
											<th>Xử lí đơn</th>
										</tr>
									</thead>
									<tbody>
										<tr th:each="orders, iterStat : ${orders}"
											th:object="${orders}" th:if="${orders.status} == 0">
											<td th:text="${iterStat.count}"></td>
											<td th:text="${orders.consigneeAddress}"></td>
											<td th:text="${orders.consigneeName}"></td>
											<td>VNĐ</td>
											<td th:text="${orders.kindOfDelivery}"></td>
											<td>12-5-2018</td>
											<td>
												<button class="btn btn-primary btn-xs" data-toggle="modal"
													data-target="#myModal" title="Xem chi tiết">
													<i class="fa fa-eye"></i>
												</button> <!-- Modal -->
												<div id="myModal" class="modal fade" role="dialog">
													<div class="modal-dialog modal-lg">

														<!-- Modal content-->
														<div class="modal-content">
															<div class="modal-header">
																<button type="button" class="close" data-dismiss="modal">&times;</button>
																<h4 class="modal-title" style="text-align: center">
																	Đơn hàng số <span th:text="${iterStat.count}"></span>
																</h4>
															</div>
															<div class="modal-body">
																<table
																	class="table table-striped table-advance table-hover">
																	<thead>
																		<tr>
																			<th>STT</th>
																			<th>Chi tiết mặt hàng</th>
																			<th>Kích thước</th>
																			<th>Số lượng</th>
																			<th>Màu sắc</th>
																			<th>Giá thành</th>
																			<th>Xử lí</th>
																		</tr>
																	</thead>
																	<tbody>
																		<tr th:each="carts, iterStat : ${orders.carts}">
																			<td th:text="${iterStat.count}"></td>
																			<td th:text="${carts.product.name}"></td>
																			<td th:text="${carts.size}"></td>
																			<td th:text="${carts.noOfItem}"></td>
																			<td th:text="${carts.color}"></td>
																			<td th:text="${carts.product.price}"></td>
																			<td>
																				<button class="btn btn-success btn-xs"
																					title="Xác nhận">
																					<i class="fa fa-check"></i>
																				</button>

																				<button class="btn btn-danger btn-xs"
																					title="Từ chối">
																					<i class="fa fa-trash-o "></i>
																				</button>
																			</td>
																		</tr>
																	</tbody>
																</table>
															</div>
															<div class="modal-footer">
																<button type="button" class="btn btn-default"
																	data-dismiss="modal">Close</button>
															</div>
														</div>

													</div>
												</div> <a th:href="@{acceptOrder/{id}(id=${orders.id})}"><button
														class="btn btn-success btn-xs" title="Nhận đơn">
														<i class="fa fa-check"></i>
													</button></a> <a th:href="@{deleteOrder/{id}(id=${orders.id})}"><button
														class="btn btn-danger btn-xs" title="Từ chối">
														<i class="fa fa-trash-o "></i>
													</button></a>
											</td>
										</tr>

									</tbody>
								</table>
							</div>
							<div class="tab-pane" id="tab_default_2">

								<!--Table-->
								<table class="table table-striped table-advance table-hover">

									<thead>
										<tr>
											<th>STT</th>
											<th class="hidden-phone">Địa chỉ nhận</th>
											<th>Khách hàng</th>
											<th>Tổng hóa đơn</th>

											<th>Hình thức giao hàng</th>
											<th>Ngày đặt</th>
											<th>Xử lí</th>
										</tr>
									</thead>
									<tbody>
										<tr th:each="orders, iterStat : ${orders}"
											th:object="${orders}" th:if="${orders.status} == 2">
											<td th:text="${iterStat.count}"></td>
											<td th:text="${orders.consigneeAddress}"></td>
											<td th:text="${orders.consigneeName}"></td>
											<td>VNĐ</td>
											<td th:text="${orders.kindOfDelivery}"></td>
											<td>12-5-2018</td>
											<td>
												<button class="btn btn-primary btn-xs" data-toggle="modal"
													data-target="#myModal2" title="Xem chi tiết">
													<i class="fa fa-eye"></i>
												</button> <!-- Modal -->
												<div id="myModal2" class="modal fade" role="dialog">
													<div class="modal-dialog modal-lg">

														<!-- Modal content-->
														<div class="modal-content">
															<div class="modal-header">
																<button type="button" class="close" data-dismiss="modal">&times;</button>
																<h4 class="modal-title" style="text-align: center">
																	Đơn hàng số <span th:text="${iterStat.count}"></span>
																</h4>
															</div>
															<div class="modal-body">
																<table
																	class="table table-striped table-advance table-hover">
																	<thead>
																		<tr>
																			<th>STT</th>
																			<th>Chi tiết mặt hàng</th>
																			<th>Kích thước</th>
																			<th>Số lượng</th>
																			<th>Màu sắc</th>
																			<th>Giá thành</th>
																			<th>Xử lí</th>
																		</tr>
																	</thead>
																	<tbody>
																		<tr th:each="carts, iterStat : ${orders.carts}">
																			<td th:text="${iterStat.count}"></td>
																			<td th:text="${carts.product.name}"></td>
																			<td th:text="${carts.size}"></td>
																			<td th:text="${carts.noOfItem}"></td>
																			<td th:text="${carts.color}"></td>
																			<td th:text="${carts.product.price}"></td>
																			<td>
																				<button class="btn btn-success btn-xs"
																					title="Xác nhận">
																					<i class="fa fa-check"></i>
																				</button>

																				<button class="btn btn-danger btn-xs"
																					title="Từ chối">
																					<i class="fa fa-trash-o "></i>
																				</button>
																			</td>
																		</tr>
																	</tbody>
																</table>
															</div>
															<div class="modal-footer">
																<button type="button" class="btn btn-default"
																	data-dismiss="modal">Close</button>
															</div>
														</div>

													</div>
												</div> <a th:href="@{setOrderReady/{id}(id=${orders.id})}"><button
														class="btn btn-success btn-xs" title="Đã sẵn sàng">
														<i class="fa fa-check"></i>
													</button></a> <a th:href="@{deleteOrder/{id}(id=${orders.id})}"><button
														class="btn btn-danger btn-xs" title="Từ chối">
														<i class="fa fa-trash-o "></i>
													</button></a>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
							<div class="tab-pane" id="tab_default_3"></div>
						</div>
					</div>
				</div>
			</div>

		</div>
	</div>
</body>
</html>